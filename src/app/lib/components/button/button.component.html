<button
  [attr.data-state]="state()"
  [attr.aria-label]="computedAriaLabel()"
  [attr.aria-disabled]="disabled() || loading()"
  [attr.aria-busy]="loading()"
  role="button"
  [type]="type()"
  [class]="appearance()"
  [class.primary]="variant() === 'primary'"
  [class.secondary]="variant() === 'secondary'"
  [class.success]="variant() === 'success'"
  [class.warning]="variant() === 'warning'"
  [class.danger]="variant() === 'danger'"
  [class.disabled]="disabled()"
  [class.loading]="loading()"
  [class.full-width]="fullWidth()"
  [class.small]="size() === 'small'"
  [class.medium]="size() === 'medium'"
  [class.large]="size() === 'large'"
  [class.icon-only]="iconPosition() === 'only'"
  [attr.disabled]="disabled() || loading() ? '' : null"
  (click)="handleClick($event)"
>
  <span class="button-content">
    @if (loading()) {
      <span class="loader" aria-hidden="true"></span>
      @if (iconPosition() !== 'only') {
        {{ loadingText() }}
      }
    }
    @if (!loading() && icon() && (iconPosition() === 'left' || iconPosition() === 'only')) {
      <i class="ph ph-{{ icon() }}" aria-hidden="true"></i>
    }
    @if (!loading() && iconPosition() !== 'only') {
      <ng-content></ng-content>
      @if (!hasContent()) {
        Button
      }
    }
    @if (!loading() && icon() && iconPosition() === 'right') {
      <i class="ph ph-{{ icon() }}" aria-hidden="true"></i>
    }
  </span>
</button>